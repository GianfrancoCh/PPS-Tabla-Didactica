<ion-header [translucent]="true" class="header-fix">
  <ion-toolbar>
    <ion-title>Crear Cuenta</ion-title>
    
    <ion-buttons slot="end">
      <ion-button 
        size="small" 
        color="danger" 
        (click)="volverAlHome()">Volver al home
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding content-with-safe-area">
  <ion-card class="register-card">
    <ion-card-header>
      <ion-card-title>Registro</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <form (ngSubmit)="register()" #form="ngForm">

        <ion-item>
          <ion-label position="floating">Correo Electrónico	</ion-label>
          <ion-input
            type="email"
            required
            [(ngModel)]="email"
            name="email"
            autocomplete="off">
          </ion-input>
        </ion-item>
        <ion-note color="danger" *ngIf="form.submitted && !email">
          El email es obligatorio.
        </ion-note>

        <ion-item>
          <ion-label position="floating">Contraseña</ion-label>
          <ion-input
            type="password"
            required
            [(ngModel)]="password"
            name="password"
            autocomplete="off"
            minlength="6">
          </ion-input>
        </ion-item>
        <ion-note color="danger" *ngIf="form.submitted && password.length < 6">
          La contraseña debe tener al menos 6 caracteres.
        </ion-note>

        <ion-button
          expand="block"
          type="submit"
          class="ion-margin-top"
          color="primary">
          Registrarse
        </ion-button>

        <ion-text color="danger" *ngIf="errorMessage">
          <p class="ion-padding-top">{{ errorMessage }}</p>
        </ion-text>

        <ion-text color="success" *ngIf="successMessage">
          <p class="ion-padding-top">{{ successMessage }}</p>
        </ion-text>

      </form>
    </ion-card-content>
  </ion-card>
</ion-content>
